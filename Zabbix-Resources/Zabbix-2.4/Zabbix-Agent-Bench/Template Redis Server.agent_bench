#
# Name : Template Redis.agent_bench
# Purpose : This is the key file to be used with Zabbix Agent Bench (https://github.com/cavaliercoder/zabbix_agent_bench)
#

# Standard agent keys
proc.mem[redis-server,,max,]
proc.num[redis-server]
net.tcp.port[127.0.0.1,6379]

# Redis Calculated Keys
redis.keyspace.hit.ratio[,,,master]

# Redis Server Keys
redis.session.duration[,,,]
redis.session.status[,,,]

# Redis General Keys
redis.command.duration[,,,,PING,]
redis.command.supported[,,,,PING]
redis.ping[,,,]
redis.time[,,,]
redis.lastsave[,,,]
redis.role[,,,]
redis.slowlog.length[,,,]

# Redis Info (Client) keys
redis.info[,,,,integer,clients,client_biggest_input_buf,]
redis.info[,,,,integer,clients,blocked_clients,]
redis.info[,,,,integer,clients,connected_clients,]
redis.info[,,,,integer,clients,client_longest_output_list,]

# Redis Info (Cpu) keys
redis.info[,,,,float,cpu,used_cpu_sys,]
redis.info[,,,,float,cpu,used_cpu_sys_children,]
redis.info[,,,,float,cpu,used_cpu_user,]
redis.info[,,,,float,cpu,used_cpu_user_children,]

# Redis Info (Memory) keys
redis.info[,,,,text,memory,mem_allocator,]
redis.info[,,,,float,memory,mem_fragmentation_ratio,]
redis.info[,,,,integer,memory,used_memory,]
redis.info[,,,,integer,memory,used_memory_lua,]
redis.info[,,,,integer,memory,used_memory_peak,]
redis.info[,,,,integer,memory,used_memory_rss,]

# Redis Info (Persistence) keys
redis.info[,,,,integer,persistence,aof_current_rewrite_time_sec,]
redis.info[,,,,integer,persistence,aof_enabled,]
redis.info[,,,,text,persistence,aof_last_bgrewrite_status,]
redis.info[,,,,float,persistence,aof_last_rewrite_time_sec,]
redis.info[,,,,text,persistence,aof_last_write_status,]
redis.info[,,,,integer,persistence,aof_rewrite_in_progress,]
redis.info[,,,,integer,persistence,aof_rewrite_scheduled,]
redis.info[,,,,integer,persistence,loading,]
redis.info[,,,,integer,persistence,rdb_changes_since_last_save,]
redis.info[,,,,integer,persistence,rdb_current_bgsave_time_sec,]
redis.info[,,,,text,persistence,rdb_last_bgsave_status,]
redis.info[,,,,float,persistence,rdb_last_save_time,]
redis.info[,,,,float,persistence,rdb_last_bgsave_time_sec,]
redis.info[,,,,integer,persistence,rdb_bgsave_in_progress,]

# Redis Info (Replication) keys
redis.info[,,,,integer,replication,connected_slaves,]
redis.info[,,,,text,replication,master_repl_offset,]
redis.info[,,,,integer,replication,master_repl_offset,]
redis.info[,,,,integer,replication,repl_backlog_active,]
redis.info[,,,,integer,replication,repl_backlog_first_byte_offset,]
redis.info[,,,,integer,replication,repl_backlog_histlen,]
redis.info[,,,,integer,replication,repl_backlog_size,]
redis.info[,,,,text,replication,role,]

# Redis Info (Server) Keys
redis.info[,,,,integer,server,arch_bits,]
redis.info[,,,,text,server,redis_build_id,]
redis.info[,,,,text,server,config_file,]
redis.info[,,,,text,server,gcc_version,]
redis.info[,,,,integer,server,redis_git_dirty,]
redis.info[,,,,integer,server,redis_git_sha1,]
redis.info[,,,,integer,server,hz,]
redis.info[,,,,integer,server,lru_clock,]
redis.info[,,,,text,server,redis_mode,]
redis.info[,,,,text,server,multiplexing_api,]
redis.info[,,,,text,server,os,]
redis.info[,,,,integer,server,process_id,]
redis.info[,,,,text,server,run_id,]
redis.info[,,,,integer,server,tcp_port,]
redis.info[,,,,integer,server,uptime_in_days,]
redis.info[,,,,integer,server,uptime_in_seconds,]
redis.info[,,,,text,server,redis_version,]

# Redis Info (Stats) Keys
redis.info[,,,,integer,stats,evicted_keys,]
redis.info[,,,,integer,stats,expired_keys,]
redis.info[,,,,integer,stats,instantaneous_ops_per_sec,]
redis.info[,,,,float,stats,instantaneous_input_kbps,]
redis.info[,,,,float,stats,instantaneous_output_kbps,]
redis.info[,,,,integer,stats,keyspace_misses,]
redis.info[,,,,integer,stats,keyspace_hits,]
redis.info[,,,,integer,stats,latest_fork_usec,]
redis.info[,,,,integer,stats,pubsub_channels,]
redis.info[,,,,integer,stats,pubsub_patterns,]
redis.info[,,,,integer,stats,sync_full,]
redis.info[,,,,integer,stats,sync_partial_err,]
redis.info[,,,,integer,stats,sync_partial_ok,]
redis.info[,,,,integer,stats,total_commands_processed,]
redis.info[,,,,integer,stats,total_connections_received,]
redis.info[,,,,integer,stats,rejected_connections,]
redis.info[,,,,integer,stats,total_net_input_bytes,]
redis.info[,,,,integer,stats,total_net_output_bytes,]

# Redis Config Keys
redis.config[,,,,text,dbfilename,]
redis.config[,,,,text,requirepass,]
redis.config[,,,,text,masterauth,]
redis.config[,,,,text,unixsocket,]
redis.config[,,,,text,logfile,]
redis.config[,,,,text,pidfile,]
redis.config[,,,,integer,maxmemory,]
redis.config[,,,,integer,maxmemory-samples,]
redis.config[,,,,integer,timeout,]
redis.config[,,,,integer,tcp-keepalive,]
redis.config[,,,,integer,auto-aof-rewrite-percentage,]
redis.config[,,,,integer,auto-aof-rewrite-min-size,]
redis.config[,,,,integer,hash-max-ziplist-entries,]
redis.config[,,,,integer,hash-max-ziplist-value,]
redis.config[,,,,integer,list-max-ziplist-entries,]
redis.config[,,,,integer,list-max-ziplist-value,]
redis.config[,,,,integer,set-max-intset-entries,]
redis.config[,,,,integer,zset-max-ziplist-entries,]
redis.config[,,,,integer,zset-max-ziplist-value,]
redis.config[,,,,integer,hll-sparse-max-bytes,]
redis.config[,,,,integer,lua-time-limit,]
redis.config[,,,,float,slowlog-log-slower-than,]
redis.config[,,,,integer,latency-monitor-threshold,]
redis.config[,,,,integer,slowlog-max-len,]
redis.config[,,,,integer,port,]
redis.config[,,,,integer,tcp-backlog,]
redis.config[,,,,integer,databases,]
redis.config[,,,,integer,repl-ping-slave-period,]
redis.config[,,,,integer,repl-timeout,]
redis.config[,,,,integer,repl-backlog-size,]
redis.config[,,,,integer,repl-backlog-ttl,]
redis.config[,,,,integer,maxclients,]
redis.config[,,,,integer,watchdog-period,]
redis.config[,,,,integer,slave-priority,]
redis.config[,,,,integer,min-slaves-to-write,]
redis.config[,,,,integer,min-slaves-max-lag,]
redis.config[,,,,integer,hz,]
redis.config[,,,,integer,repl-diskless-sync-delay,]
redis.config[,,,,text,no-appendfsync-on-rewrite,]
redis.config[,,,,text,slave-serve-stale-data,]
redis.config[,,,,text,slave-read-only,]
redis.config[,,,,text,stop-writes-on-bgsave-error,]
redis.config[,,,,text,daemonize,]
redis.config[,,,,text,rdbcompression,]
redis.config[,,,,text,rdbchecksum,]
redis.config[,,,,text,activerehashing,]
redis.config[,,,,text,repl-disable-tcp-nodelay,]
redis.config[,,,,text,repl-diskless-sync,]
redis.config[,,,,text,aof-rewrite-incremental-fsync,]
redis.config[,,,,text,aof-load-truncated,]
redis.config[,,,,text,appendonly,]
redis.config[,,,,text,dir,]
redis.config[,,,,text,maxmemory-policy,]
redis.config[,,,,text,appendfsync,]
redis.config[,,,,text,save,]
redis.config[,,,,text,loglevel,]
redis.config[,,,,text,client-output-buffer-limit,]
redis.config[,,,,integer,unixsocketperm,]
redis.config[,,,,text,slaveof,]
redis.config[,,,,text,notify-keyspace-events,]
redis.config[,,,,text,bind,]

# Redis Database Discovery Keys
redis.database.discovery[,,,]
	redis.database.info[,,,,integer,{#DATABASE},keys,]
	redis.database.info[,,,,integer,{#DATABASE},expires,]
	redis.database.info[,,,,integer,{#DATABASE},avg_ttl,]

# Redis Client Discovery Keys
redis.client.discovery[,,,]
	redis.client.info[,,,,integer,{#CLIENT},id,]
	redis.client.info[,,,,text,{#CLIENT},addr,]
	redis.client.info[,,,,integer,{#CLIENT},fd,]
	redis.client.info[,,,,text,{#CLIENT},name,]
	redis.client.info[,,,,integer,{#CLIENT},age,]
	redis.client.info[,,,,integer,{#CLIENT},idle,]
	redis.client.info[,,,,text,{#CLIENT},flags,]
	redis.client.info[,,,,integer,{#CLIENT},db,]
	redis.client.info[,,,,integer,{#CLIENT},sub,]
	redis.client.info[,,,,integer,{#CLIENT},psub,]
	redis.client.info[,,,,float,{#CLIENT},multi,]
	redis.client.info[,,,,integer,{#CLIENT},qbuf,]
	redis.client.info[,,,,integer,{#CLIENT},qbuf-free,]
	redis.client.info[,,,,integer,{#CLIENT},obl,]
	redis.client.info[,,,,integer,{#CLIENT},oll,]
	redis.client.info[,,,,integer,{#CLIENT},omem,]
	redis.client.info[,,,,text,{#CLIENT},events,]
	redis.client.info[,,,,text,{#CLIENT},cmd,]

# Redis Slave Discovery Keys
redis.slave.discovery[,,,]
	redis.slave.info[,,,,text,{#SLAVE},ip,]
	redis.slave.info[,,,,integer,{#SLAVE},port,]
	redis.slave.info[,,,,text,{#SLAVE},state,]
	redis.slave.info[,,,,integer,{#SLAVE},lag,]
	redis.slave.info[,,,,integer,{#SLAVE},offset,]
